# üß© hh_kazan_qa ‚Äî –ø–∞—Ä—Å–µ—Ä –≤–∞–∫–∞–Ω—Å–∏–π QA (hh.ru, –ö–∞–∑–∞–Ω—å)

–ü—Ä–æ–µ–∫—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–∏–Ω–≥ HTML-—Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤–∞–∫–∞–Ω—Å–∏–π QA-—Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫–æ–≤ –≤ –ö–∞–∑–∞–Ω–∏ —Å —Å–∞–π—Ç–∞ [hh.ru](https://hh.ru).  
–°–∫—Ä–∏–ø—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –ª–æ–∫–∞–ª—å–Ω–æ, –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∫–ª—é—á–µ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (`–ù–∞–∑–≤–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏`, `–ö–æ–º–ø–∞–Ω–∏—è`, `–û–ø—ã—Ç`)  
–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ **.xlsx** —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Ç–∞–±–ª–∏—Ü—ã.

---

## üõ†Ô∏èÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

| –ú–æ–¥—É–ª—å | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|--------|-------------|
| `requests` | –∑–∞–≥—Ä—É–∑–∫–∞ HTML-—Å—Ç—Ä–∞–Ω–∏—Ü |
| `BeautifulSoup (bs4)` | –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ CSS-—Å–µ–ª–µ–∫—Ç–æ—Ä–∞–º |
| `pandas` | –æ—á–∏—Å—Ç–∫–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö, —ç–∫—Å–ø–æ—Ä—Ç –≤ —Ç–∞–±–ª–∏—Ü—É |
| `openpyxl` | —Å–æ–∑–¥–∞–Ω–∏–µ Excel-–æ—Ç—á—ë—Ç–∞ —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º |
| `logging` | –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ |
| `pathlib` | —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π |

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
hh_kazan_qa/
‚îú‚îÄ‚îÄ data/
‚îÇ ‚îú‚îÄ‚îÄ page0.html # —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–∞—è HTML-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ hh.ru
‚îÇ ‚îú‚îÄ‚îÄ hh_kazan_qa.csv # –≤—ã–≥—Ä—É–∑–∫–∞ –≤ CSV
‚îÇ ‚îî‚îÄ‚îÄ hh_kazan_qa.xlsx # —Ñ–∏–Ω–∞–ª—å–Ω—ã–π Excel-–æ—Ç—á—ë—Ç
‚îú‚îÄ‚îÄ logs/
‚îÇ ‚îú‚îÄ‚îÄ fetch_page.log # –ª–æ–≥ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ ‚îî‚îÄ‚îÄ parse_page.log # –ª–æ–≥ –ø–∞—Ä—Å–∏–Ω–≥–∞
‚îú‚îÄ‚îÄ fetch_page.py # –º–æ–¥—É–ª—å –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
‚îú‚îÄ‚îÄ parse_page.py # –º–æ–¥—É–ª—å –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏ —ç–∫—Å–ø–æ—Ä—Ç–∞
‚îú‚îÄ‚îÄ config.py # –±–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (URL, –∑–∞–≥–æ–ª–æ–≤–∫–∏, MIN_BYTES)
‚îî‚îÄ‚îÄ README.md
```
## ‚öô –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

### 1Ô∏è‚É£ –ó–∞–≥—Ä—É–∑–∏—Ç—å HTML-—Å—Ç—Ä–∞–Ω–∏—Ü—É
```bash
python -m hh_kazan_qa.fetch_page
```
### 2Ô∏è‚É£ –†–∞—Å–ø–∞—Ä—Å–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ —Å–æ–∑–¥–∞—Ç—å Excel-–æ—Ç—á—ë—Ç
```bash
python -m hh_kazan_qa.parse_page
```
–†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ data/hh_kazan_qa.xlsx.
## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —É—Å—Ç–æ–π—á–∏–≤—ã–π –ø–æ–∏—Å–∫ –∫–∞—Ä—Ç–æ—á–µ–∫ —á–µ—Ä–µ–∑:
```bash
card = title_el.find_parent(
    lambda t: t and t.has_attr('data-qa') and 'vacancy-serp' in t['data-qa']
)
```
—á—Ç–æ –¥–µ–ª–∞–µ—Ç –ø–∞—Ä—Å–µ—Ä —É—Å—Ç–æ–π—á–∏–≤—ã–º –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å–∞–π—Ç–∞.
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞:
```bash
def safe_text(el):
    return " ".join(el.get_text(" ", strip=True).split()) if el else ""

```
- –ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:
```bash
df = df.applymap(lambda x: " ".join(x.split()) if isinstance(x, str) else x)
df = df.replace({"": "-"}).fillna("-")
```
## üì¶ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
```bash
pip install requests beautifulsoup4 pandas openpyxl lxml
```
